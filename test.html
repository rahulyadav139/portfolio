<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linkpe | Rahul Yadav</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@1,300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300&display=swap" rel="stylesheet">


    <style>
        #my-image {
            background-repeat: no-repeat;
            background-position: 50%;
            border-radius: 50%;
            width: 100px;
            height: 100px;
            display: block;
            margin: auto;
        }

        nav {
            padding: 1rem;
        }

        #heading {
            background-color: #1E3A8A;
            border-radius: 1rem;
        }

        main {
            max-width: 450px;
            text-align: center;
            margin: auto;
        }

        h1 {
            color: white;
            font-family: 'Oswald', sans-serif;
            margin: 0rem;
        }

        input,
        button {
            display: block;
            margin: 2rem auto;
            border-radius: 2rem;


            font-family: 'Open Sans', sans-serif;
            text-align: center;

        }

        input {
            border-color: #1E3A8A;
            width: 250px;
            height: 40px;
        }

        button {
            background-color: #1E3A8A;
            color: white;
            width: 250px;
            height: 50px;

            border-color: transparent;

        }

        #footer-image {
            max-width: 300px;
            display: none;
            margin: auto;
        }

        h4 {
            font-family: 'Open Sans', sans-serif;
        }

        #pay {}

        h4 {

            color: #1E3A8A;
        }

        
        #confirm-msg {
            display: none;
        }

        #confirm-msg {
            font-family: 'Open Sans', sans-serif;
            color: #1E3A8A;
        }

        h5 {
            color: red;
            display: none;
        }

        #btnShare {
            display: none;
        }

        #paymentMethods {
            display: none;
        }

        .logo {
            max-width: 50px;
            max-height: 5rem;

        }

        #iosLinks {
            list-style: none;
            margin: 0%;
            padding: 0%;
            display: none;

        }

        li {
            display: inline;
            padding: 1rem;
            margin: 0%;
            text-align: center;


        }

        #paymentMethodsIos {
            display: none;
        }

        #linkPhonePe,
        #linkPaytm,
        #linkGpay {
            text-decoration: none;
        }
    </style>

</head>

<body>
    <main>

        <nav id="heading">
            <img id="my-image" src="images/me.jpg" />
            <br>
            <h1>RAHUL YADAV</h1>
        </nav>
        <div id="pay">
            <input id="amount-input" type="number" placeholder="Enter amount..." />
            <input id="note-input" type="text" placeholder="Transaction note(optional)..." />
            <h3 id="confirm-msg"></h3>
            <a id="btnPayLink" href="" style="text-decoration: none"><button id="btnPay"><strong>Pay Now</strong></button></a>
        </div>


        <h5 id="error">Please enter a valid amount...</h5>
        <button id="btnShare"><strong>Share to WhatsApp</strong></button>
        <h4 id="paymentMethods">Pay using any UPI enabled application</h4>
        <img id="footer-image" src="/images/upi-payments.png" />
        <h4 id="paymentMethodsIos">Select any payment method:</h4>


        <ul id="iosLinks">
            <li><a href="" id="linkPhonePe"><img class="logo" src="/images/phonepe-logo.png" /> </a></li>
            <li><a href="" id="linkPaytm"><img class="logo" src="/images/paytm-Logo.png" /> </a></li>
            <li><a href="" id="linkGpay"><img class="logo" src="/images/gpay-logo.png" /> </a></li>
        </ul>
    </main>
</body>
<script>
    var amount = document.querySelector("#amount-input");
    var transactionNote = document.querySelector("#note-input")

    if (/Android/.test(window.navigator.userAgent) == 0) {
        document.querySelector("#paymentMethods").style.display = "block";
        document.querySelector("#footer-image").style.display = "block";


        function clickHandler() {
            if (amount.value === "") {
                document.querySelector("#error").style.display = "block";
            } else {
                var paymentUrlAndroid = "upi://pay?pa=fcbize9ieno@freecharge&pn=Rahul%20Yadav&tn=" + transactionNote.value + "&mc=5499&mode=02&orgid=000000&am=" + amount.value
                
                document.querySelector("#amount-input").style.display = "none";
                document.querySelector("#note-input").style.display = "none";
                
                
                
                
                document.querySelector("#error").style.display = "none";

                function payNow() {


                    document.querySelector("#btnPayLink").setAttribute("href", paymentUrlAndroid)
                    
                    document.querySelector("#btnPay").style.display = "none";
                    document.querySelector("#confirm-msg").style.display = "block";
                    document.querySelector("#confirm-msg").innerHTML = "Thankyou for payment!";

                    document.querySelector("#paymentMethods").style.display = "none";
                    document.querySelector("#footer-image").style.display = "none";
                    document.querySelector("#btnShare").style.display = "block";

                }
                setTimeout(payNow, 1000)

                function shareText() {

                    var shareUrl = "whatsapp://send?phone=918435435659&text=Hey Rahul, I have made the payment of ₹" +
                        amount.value + " for " + transactionNote.value + ". Please confirm. If is there any issue, let me know."
                    window.open(shareUrl)

                }


                document.querySelector("#btnShare").addEventListener("click", shareText)




            }



        }

        document.querySelector("#btnPay").addEventListener("click", clickHandler);




    } else {
        function clickHandler() {

            if (amount.value === "") {
                document.querySelector("#error").style.display = "block";
            } else {
                var paymentUrlIos = "://upi/pay?pa=fcbize9ieno@freecharge&pn=Rahul%20Yadav&tn=" + transactionNote
                    .value + "&mc=5499&mode=02&orgid=000000&am=" + amount.value
                var paytmLink = "paytmmp" + paymentUrlIos;
                var gpayLink = "gpay" + paymentUrlIos;
                var phonepeLink = "phonepe" + paymentUrlIos;
                document.querySelector("#btnConfirm").style.display = "none";
                document.querySelector("#amount-input").style.display = "none";
                document.querySelector("#note-input").style.display = "none";
                document.querySelector("#iosLinks").style.display = "block";
                document.querySelector("#paymentMethodsIos").style.display = "block";

                document.querySelector("#confirm-msg").style.display = "block";
                document.querySelector("#confirm-msg").innerHTML = "You are paying ₹" + amount.value;
                document.querySelector("#linkPhonePe").setAttribute("href", phonepeLink);
                document.querySelector("#linkGpay").setAttribute("href", gpayLink);
                document.querySelector("#linkPaytm").setAttribute("href", paytmLink);
                document.querySelector("#error").style.display = "none";

                function thankYou() {

                    document.querySelector("#confirm-msg").innerHTML = "Thankyou for payment!";

                    document.querySelector("#btnShare").style.display = "block";
                    document.querySelector("#iosLinks").style.display = "none";
                    document.querySelector("#paymentMethodsIos").style.display = "none";

                }
                setTimeout(thankYou, 9000)

                function shareText() {

                    var shareUrl = "whatsapp://send?phone=918435435659&text=Hey Rahul, I have made the payment of ₹" +
                        amount.value + " for " + transactionNote.value +
                        ". Please confirm. If is there any issue, let me know."
                    window.open(shareUrl)

                }


                document.querySelector("#btnShare").addEventListener("click", shareText)


            }



        }
        document.querySelector("#btnConfirm").addEventListener("click", clickHandler);

    }
</script>

</html>